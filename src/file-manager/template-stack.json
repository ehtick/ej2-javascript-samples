{"index.html":"<html><head><script src=\"https://cdn.syncfusion.com/ej2/31.1.17/dist/ej2.min.js\" type=\"text/javascript\"></script>\n    <link href=\"https://cdn.syncfusion.com/ej2/31.1.17/{{theme}}.css\" rel=\"stylesheet\">\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\">\n\n    <style>\n            body{\n                touch-action:none;\n            }\n            .control-section{\n                margin-top:100px;\n            }\n        </style></head><body><div class=\"stackblitz-container {{theme}}\"><div class=\"col-lg-12 control-section\">\n    <div class=\"control_wrapper\">\n        <!-- Initialize FileManager -->\n        <div id=\"filemanager\"></div>\n    </div>\n</div>\n\n\n\n\n\n<style>\n\n    .e-filemanager.e-fm-template-sample .e-list-icon {\n        height: 20px !important;\n        margin: 0 !important;\n        width: 20px !important;\n    }\n\n    .e-dropdown-btn.filemanager-dropdown-button {\n        border: none;\n        margin-right: -6px;\n        box-shadow: none;\n        background: transparent;\n    }\n\n    .e-dropdown-btn.filemanager-dropdown-button:hover, .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover {\n        background: #d4d4d4;\n    }\n\n    .fluent2-dark .e-dropdown-btn.filemanager-dropdown-button:hover, .fluent2-dark .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover,\n    .fluent-dark .e-dropdown-btn.filemanager-dropdown-button:hover, .fluent-dark .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover,\n    .material3-dark .e-dropdown-btn.filemanager-dropdown-button:hover, .material3-dark .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover,\n    .tailwind3-dark .e-dropdown-btn.filemanager-dropdown-button:hover, .tailwind3-dark .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover,\n    .fluent2-highcontrast .e-dropdown-btn.filemanager-dropdown-button:hover, .fluent2-highcontrast .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover,\n    .highcontrast .e-dropdown-btn.filemanager-dropdown-button:hover, .highcontrast .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover,\n    .bootstrap5\\.3-dark .e-dropdown-btn.filemanager-dropdown-button:hover, .bootstrap5\\.3-dark .e-dropdown-btn.filemanager-dropdown-button.e-btn:hover {\n        background: #3d3d3d;\n    }\n\n    .bootstrap5\\.3 .e-dropdown-btn.filemanager-dropdown-button {\n        color: #242424;\n    }\n\n    .e-filemanager.e-fm-template-sample .e-grid .e-gridheader .e-fe-grid-icon + .e-rowcell, .e-filemanager .e-grid .e-gridheader .e-fe-grid-icon + .e-headercell, .e-filemanager .e-grid .e-gridcontent .e-fe-grid-icon + .e-rowcell, .e-filemanager .e-grid .e-gridcontent .e-fe-grid-icon + .e-headercell {\n        padding-left: 6px;\n    }\n\n    .e-fm-template-sample .e-nav-pane-node .e-icons {\n        font-size: larger;\n    }\n\n    .e-fm-template-sample .custom-icon-card {\n        padding: 8px;\n        border: 1px solid #ccc;\n        border-radius: 10px;\n        height: 100%;\n        box-sizing: border-box;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: center;\n    }\n\n    .e-fm-template-sample .file-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 100%;\n        margin-bottom: 10px;\n    }\n\n    .e-fm-template-sample .left-info {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        overflow: hidden;\n        flex-shrink: 1;\n        flex-grow: 1;\n    }\n\n    .e-fm-template-sample .file-name {\n        font-size: 14px;\n        font-weight: 600;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 160px;\n    }\n\n    .e-fm-template-sample .file-formattedDate {\n        font-size: 12px;\n        margin-top: 8px;\n        text-align: center;\n        font-weight: 600;\n    }\n\n    .e-filemanager.e-fm-template-sample.e-fe-mobile .e-large-icons .e-list-parent .e-list-item {\n        height: 185px;\n        width: 100px;\n        margin: 8px 4px;\n    }\n\n    .e-filemanager.e-fm-template-sample.e-fe-mobile .e-large-icons .e-list-parent .e-list-item .file-icon {\n        width: 150px;\n        height: 90px;\n    }\n\n    .e-filemanager.e-fm-template-sample.e-fe-mobile .e-large-icons .e-list-parent .e-list-item .file-name {\n        max-width: 100px;\n    }\n\n    .e-filemanager.e-fm-template-sample .e-large-icons .e-list-item {\n        height: 240px;\n        width: 210px;\n    }\n\n    .e-filemanager.e-fm-template-sample .e-large-icons .e-list-parent .e-list-item .file-icon {\n        width: 190px;\n        height: 150px;\n        background-repeat: no-repeat;\n        background-position: center center;\n        background-size: contain;\n        margin-bottom: 10px;\n    }\n\n    .background-folder { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/folders.svg'); }\n    .background-png { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/image-png.svg'); }\n    .background-pptx { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/pptx.png'); }\n    .background-jpg { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/image-jpg.svg'); }\n    .background-doc { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/docx.png'); }\n    .background-pdf { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/pdfphoto.png'); }\n    .background-txt { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/text.png'); }\n    .background-video { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/video.png'); }\n    .background-audio { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/music.png'); }\n    .background-xlsx { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/xlsx.png'); }\n\n    /* People */\n    .background-Adam { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Adam.png'); }\n    .background-Andrew { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Andrew.png'); }\n    .background-Ellie { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Ellie.png'); }\n    .background-Jameson { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Jameson.png'); }\n    .background-John { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/John.png'); }\n    .background-Josie { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Josie.png'); }\n\n    /* Food */\n    .background-Applepie { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Apple pie.png'); }\n    .background-Bread { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Bread.png'); }\n    .background-Doughnut { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Doughnut.png'); }\n    .background-Nuggets { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Nuggets.png'); }\n    .background-Sugarcookie { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/Sugar cookie.png'); }\n\n    /* Nature */\n    .background-bird { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/bird.jpg'); }\n    .background-sea { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/sea.jpg'); }\n    .background-seaview { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/seaview.jpg'); }\n    .background-snow { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/snow.jpg'); }\n    .background-snowfall { background-image: url('//npmci.syncfusion.com/development/demos/src/file-manager/images/snowfall.jpg'); }\n</style></div></body></html>","index.js":"{{ripple}}\n\n\n    var actionItems = [\n    { text: 'Open', iconCss: 'e-icons e-folder-open' },\n    { text: 'Download', iconCss: 'e-icons e-download' },\n    { text: 'Refresh', iconCss: 'e-icons e-refresh' },\n    { text: 'Delete', iconCss: 'e-icons e-trash' },\n    ];\n    var hostUrl = 'https://ej2-aspcore-service.azurewebsites.net/';\n    var fileManager = new ej.filemanager.FileManager({\n        ajaxSettings: {\n            url: hostUrl + \"api/FileManager/FileOperations\",\n            uploadUrl: hostUrl + \"api/FileManager/Upload\",\n            downloadUrl: hostUrl + \"api/FileManager/Download\",\n            getImageUrl: hostUrl + \"api/FileManager/GetImage\"\n        },\n        cssClass: 'e-fm-template-sample',\n        height: '600px',\n        detailsViewSettings: {\n            columns: [\n                {\n                    field: \"name\",\n                    headerText: \"Name\",\n                    template: function (item) {\n                        return '<div>' + item.name + '</div>';\n                    }\n                },\n                {\n                    field: 'size',\n                    headerText: 'Size', \n                    template: function (item) {\n                        return '<div>' + (item.isFile ? formatSize(item.size) : '-') + '</div>';\n                    }\n                },\n                {\n                    field: '_fm_modified', headerText: 'DateModified', format: 'MM/dd/yyyy hh:mm a'\n                },\n                {\n                    headerText: \"Actions\",\n                    template: function (item) {\n                        return '<div class=\"action-ddb\" data-name=\"' + item.name + '\" data-isFile=\"' + item.isFile + '\"></div>';\n                    }\n                }\n            ]\n        },\n        largeIconsTemplate: function (item) {\n            var formattedDate = '';\n            if (item.dateCreated) {\n                formattedDate = new Date(item.dateCreated).toLocaleDateString('en-US', {\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric'\n                });\n            }\n            var iconClass = getFileIconCssClass(item);\n            var iconHtml = item.isFile ? '<div class=\"' + iconClass + '\"></div>' : '';\n            var backgroundClass = getBackgroundCss(item);\n            var html = '';\n            html += '<div class=\"custom-icon-card\">';\n            html += '  <div class=\"file-header\">';\n            html += '     <div class=\"left-info\">';\n            html +=           iconHtml;\n            html += '         <div class=\"file-name\" title=\"' + item.name + '\">' + item.name + '</div>';\n            html += '     </div>';\n            html += '     <div class=\"action-ddb\" data-name=\"' + item.name + '\" data-isFile=\"' + item.isFile + '\"></div>';\n            html += '  </div>';\n            html += '  <div class=\"' + backgroundClass + '\" title=\"' + item.name + '\"></div>';\n            html += '  <div class=\"file-formattedDate\">Created on ' + formattedDate + '</div>';\n            html += '</div>';\n            return html;\n        },\n        navigationPaneTemplate: function (item) {\n            var iconClass = getIconsForFolders(item);\n            var html = '';\n            html += '<div class=\"e-nav-pane-node\" style=\"display: inline-flex; align-items: center;\">';\n            html += '  <span class=\"e-icons ' + iconClass + '\"></span>';\n            html += '  <span class=\"folder-name\" style=\"margin-left:8px;\">' + item.name + '</span>';\n            html += '</div>';\n            return html;\n        },\n        fileLoad: function (args) {\n            var validModules = ['DetailsView', 'LargeIconsView'];\n            if (validModules.indexOf(args.module) !== -1) {\n                var actionBtn = args.element.querySelector('.action-ddb');\n                if (actionBtn && !actionBtn.hasAttribute('data-ddb-initialized')) {\n                    wireDropDownButton(actionBtn);\n                }\n            }\n        },\n    });\n    fileManager.appendTo('#filemanager');\n    function wireDropDownButton(hostEl) {\n        var fileName = hostEl.getAttribute('data-name') || '';\n        var isFile = (hostEl.getAttribute('data-isfile') || 'false') === 'true';\n        var items = isFile ? actionItems.filter(function (i) { return i.text !== 'Open'; }) : actionItems;\n        var ddb = new ej.splitbuttons.DropDownButton({\n            items: items,\n            cssClass: 'e-caret-hide filemanager-dropdown-button',\n            select: function (args) {\n                var action = args.item.text || '';\n                onActionSelect(action, { name: fileName, isFile: isFile });\n            },\n            iconCss: 'e-icons e-more-vertical-1',\n        });\n        ddb.appendTo(hostEl);\n        hostEl.setAttribute('data-ddb-initialized', 'true');\n    }\n    function onActionSelect(action, item) {\n        switch (action) {\n            case 'Open':\n                fileManager.openFile(item.name);\n                break;\n            case 'Download':\n                fileManager.downloadFiles([item.name]);\n                break;\n            case 'Refresh':\n                fileManager.refreshFiles();\n                break;\n            case 'Delete':\n                fileManager.deleteFiles([item.name]);\n                break;\n            default:\n                break;\n        }\n    }\n\n    function formatSize(bytes) {\n        if (!bytes)\n            return \"0 B\";\n        var sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\n        var i = 0;\n        while (bytes >= 1024 && i < sizes.length - 1) {\n            bytes /= 1024;\n            i++;\n        }\n        return bytes.toFixed(1) + \" \" + sizes[i];\n    }\n    function getBackgroundCss(item) {\n        var NamedFileBackgrounds = {\n            \"Adam.png\": \"background-Adam\",\n            \"Andrew.png\": \"background-Andrew\",\n            \"Ellie.png\": \"background-Ellie\",\n            \"Jameson.png\": \"background-Jameson\",\n            \"John.png\": \"background-John\",\n            \"Josie.png\": \"background-Josie\",\n            \"Apple pie.png\": \"background-Applepie\",\n            \"Bread.png\": \"background-Bread\",\n            \"Doughnut.png\": \"background-Doughnut\",\n            \"Nuggets.png\": \"background-Nuggets\",\n            \"Sugar cookie.png\": \"background-Sugarcookie\",\n            \"bird.jpg\": \"background-bird\",\n            \"sea.jpg\": \"background-sea\",\n            \"seaview.jpg\": \"background-seaview\",\n            \"snow.jpg\": \"background-snow\",\n            \"snowfall.jpg\": \"background-snowfall\"\n        };\n        var ExtensionBackgrounds = {\n            \"jpg\": \"background-jpg\",\n            \"jpeg\": \"background-jpg\",\n            \"png\": \"background-png\",\n            \"pptx\": \"background-pptx\",\n            \"pdf\": \"background-pdf\",\n            \"mp4\": \"background-video\",\n            \"mp3\": \"background-audio\",\n            \"docx\": \"background-doc\",\n            \"txt\": \"background-txt\",\n            \"xlsx\": \"background-xlsx\"\n        };\n        if (!item.isFile)\n            return \"file-icon background-folder\";\n        if (NamedFileBackgrounds[item.name])\n            return \"file-icon \" + NamedFileBackgrounds[item.name];\n        var ext = item.name.split('.').pop() || '';\n        return \"file-icon \" + (ExtensionBackgrounds[ext] || \"background-default\");\n    }\n    function getIconsForFolders(item) {\n        var iconMap = {\n            Files: 'e-folder',\n            Documents: 'e-file-document',\n            Downloads: 'e-download',\n            Pictures: 'e-thumbnail',\n            Music: 'e-file-format',\n            Videos: 'e-video',\n            Employees: 'e-export-png',\n            Food: 'e-export-png',\n            Nature: 'e-export-png'\n        };\n        return iconMap[item.name] || 'e-folder';\n    }\n\n    function getFileIconCssClass(item) {\n        if (!item.isFile) return \"\";\n\n        var extensionMap = {\n            jpg: \"image\",\n            jpeg: \"image\",\n            png: \"image\",\n            gif: \"image\",\n            mp3: \"music\",\n            wav: \"music\",\n            mp4: \"video\",\n            avi: \"video\",\n            doc: \"doc\",\n            docx: \"docx\",\n            ppt: \"pptx\",\n            pptx: \"pptx\",\n            xls: \"xlsx\",\n            xlsx: \"xlsx\",\n            txt: \"txt\",\n            js: \"js\",\n            css: \"css\",\n            html: \"html\",\n            exe: \"exe\",\n            msi: \"msi\",\n            php: \"php\",\n            xml: \"xml\",\n            zip: \"zip\",\n            rar: \"rar\",\n            pdf: \"pdf\"\n        };\n\n        var extension = (item.name.split('.').pop() || \"\").toLowerCase();\n        var iconType = extensionMap[extension] || \"unknown\";\n        return 'e-list-icon e-fe-' + iconType;\n    }\n\n"}